<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Marking ‚Äì {{ student['first_name'] }} {{ student['last_name'] }}</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
</head>

<body class="bg-light">
    <div class="container mt-5">
        <div class="d-flex justify-content-between align-items-center mb-4">
            <h1 class="text-primary">Marking for {{ student['first_name'] }} {{ student['last_name'] }}</h1>
            <a href="{{ url_for('teacher_lesson_view', lesson_id=lesson_id) }}" class="btn btn-outline-secondary">‚¨Ö Back</a>
        </div>

        <h4 class="text-secondary mb-4">{{ lesson['title'] }}</h4>

        <form method="POST">
            <!-- Homework Video -->
            <div class="card shadow-sm mb-4">
                <div class="card-body">
                    <h5 class="card-title text-dark">1. Homework Video</h5>
                    <p><strong>Watched:</strong> {{ '‚úÖ' if progress['watched_video'] else '‚ùå' }}</p>
                    <div class="mb-3">
                        <label for="mark_video" class="form-label">Mark (0‚Äì100):</label>
                        <input type="number" class="form-control w-25" id="mark_video" name="mark_video"
                               value="{{ progress['mark_video'] or 0 }}" min="0" max="100">
                    </div>
                </div>
            </div>

            <!-- Workbook Activity -->
            <div class="card shadow-sm mb-4">
                <div class="card-body">
                    <h5 class="card-title text-dark">2. Workbook Activity</h5>
                    <p class="fw-semibold text-muted">Student Answers:</p>
                    <ul class="list-group list-group-flush mb-3">
                        <li class="list-group-item">T1Q1: {{ progress['t1q1'] }}</li>
                        <li class="list-group-item">T1Q2: {{ progress['t1q2'] }}</li>
                        <li class="list-group-item">T1Q3: {{ progress['t1q3'] }}</li>
                        <li class="list-group-item">T1Q4: {{ progress['t1q4'] }}</li>
                        <li class="list-group-item">T1Q5: {{ progress['t1q5'] }}</li>
                        <li class="list-group-item">T1Q6: {{ progress['t1q6'] }}</li>
                        <li class="list-group-item">T2Q1: {{ progress['t2q1'] }}</li>
                        <li class="list-group-item">T2Q2: {{ progress['t2q2'] }}</li>
                        <li class="list-group-item">T2Q3: {{ progress['t2q3'] }}</li>
                        <li class="list-group-item">T3Q1: {{ progress['t3q1'] }}</li>
                        <li class="list-group-item">T3Q2: {{ progress['t3q2'] }}</li>
                        <li class="list-group-item">T3Q3: {{ progress['t3q3'] }}</li>
                        <li class="list-group-item">T4Q1: {{ progress['t4q1'] }}</li>
                    </ul>
                    <div class="mb-3">
                        <label for="mark_workbook" class="form-label">Mark (0‚Äì100):</label>
                        <input type="number" class="form-control w-25" id="mark_workbook" name="mark_workbook"
                               value="{{ progress['mark_workbook'] or 0 }}" min="0" max="100">
                    </div>
                </div>
            </div>

            <!-- Interactive Activity -->
            <div class="card shadow-sm mb-4">
                <div class="card-body">
                    <h5 class="card-title text-dark">3. Interactive Activity (Seneca)</h5>
                    <p><strong>Done:</strong> {{ '‚úÖ' if progress['interactive_done'] else '‚ùå' }}</p>
                    <div class="mb-3">
                        <label for="mark_interactive" class="form-label">Mark (0‚Äì100):</label>
                        <input type="number" class="form-control w-25" id="mark_interactive" name="mark_interactive"
                               value="{{ progress['mark_interactive'] or 0 }}" min="0" max="100">
                    </div>
                </div>
            </div>

            <!-- Exam Question -->
            <div class="card shadow-sm mb-4">
                <div class="card-body">
                    <h5 class="card-title text-dark">4. Exam Question</h5>
                    <p class="fw-semibold text-muted">Student Answer:</p>
                    <pre class="bg-white border rounded p-3">{{ progress['exam_answer'] }}</pre>
                    <div class="mb-3">
                        <label for="mark_exam" class="form-label">Mark (0‚Äì100):</label>
                        <input type="number" class="form-control w-25" id="mark_exam" name="mark_exam"
                               value="{{ progress['mark_exam'] or 0 }}" min="0" max="100">
                    </div>
                </div>
            </div>

            <!-- Save Button -->
            <div class="d-flex justify-content-between">
                <button type="submit" class="btn btn-success px-4">üíæ Save Marks</button>
                <a href="{{ url_for('teacher_lesson_view', lesson_id=lesson_id) }}" class="btn btn-outline-secondary">Cancel</a>
            </div>
        </form>

        <p class="text-center text-muted mt-5" style="font-size: 0.9rem;">
            ¬© 2025 Dino Kousoulidis
        </p>
    </div>
</body>
</html>
